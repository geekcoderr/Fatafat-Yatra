{"ast":null,"code":"var _jsxFileName = \"/home/geekcoderr/Astra/RealtimeProjects/FATAFAT-YATRA/src/components/booking/Booking.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport BookingForm from \"./BookingForm\";\nimport famous from './famous.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Booking = () => {\n  _s();\n\n  const [buttonText, setButtonText] = useState(\"Check Availability\");\n  const [multi, setMulti] = useState([1]);\n  const [trip, setTrip] = useState([{\n    tripType: \"\",\n    vehicleType: \"\"\n  }]);\n  const [selectedFare, setSelectedFare] = useState(\"\");\n  const [regard, setRegard] = useState(5);\n  const [formData, setFormData] = useState([{\n    from: \"\",\n    to: \"\",\n    date: \"\",\n    fareType: \"\"\n  }]);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleMouseEnter = () => {\n    setButtonText(\"...Let's CheckIt...\");\n  };\n\n  const handleMouseLeave = () => {\n    setButtonText(\"Check Availability\");\n  };\n\n  const handleFareSelection = (fareType, cost) => {\n    setSelectedFare(fareType);\n    setRegard(cost);\n  };\n\n  const getRandomLocation = () => {\n    return famous[Math.floor(Math.random() * famous.length)].location; // Access the 'location' property\n  };\n\n  const getUniqueRandomLocations = () => {\n    let location1 = getRandomLocation();\n    let location2 = getRandomLocation(); // Ensure no two locations are the same\n\n    while (location2 === location1) {\n      location2 = getRandomLocation();\n    }\n\n    return [location1, location2];\n  };\n\n  const [randomLocation1, randomLocation2] = getUniqueRandomLocations();\n\n  const handleBookingSubmit = () => {\n    let isValid = true;\n    const updatedFormData = [...formData];\n    updatedFormData.forEach((item, index) => {\n      if (item.from === item.to) {\n        isValid = false;\n        updatedFormData[index].errorMessage = \"From and To locations cannot be the same\";\n      } else {\n        updatedFormData[index].errorMessage = \"\";\n      }\n    });\n    setFormData(updatedFormData);\n    setErrorMessage(isValid ? \"\" : \"Please fix the error(s) and try again.\");\n\n    if (isValid) {\n      // Submit the form data\n      console.log(formData);\n      navigate('/bookinglist');\n    }\n  };\n\n  const handleFormDataChange = (index, field, value) => {\n    const updatedFormData = [...formData];\n    updatedFormData[index][field] = value;\n    setFormData(updatedFormData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pt-40 pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"max-w-5xl px-6 pt-8 pb-10 w-full mx-auto bg-white rounded-lg drop-shadow\",\n      id: \"bookpanel\",\n      children: [formData.map((item, index) => /*#__PURE__*/_jsxDEV(BookingForm, {\n        index: index,\n        fromValue: item.from,\n        toValue: item.to,\n        date: item.date,\n        fareType: item.fareType,\n        errorMessage: item.errorMessage,\n        handleFromChange: value => handleFormDataChange(index, 'from', value),\n        handleToChange: value => handleFormDataChange(index, 'to', value),\n        handleDateChange: value => handleFormDataChange(index, 'date', value),\n        handleFareTypeChange: value => handleFormDataChange(index, 'fareType', value)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this)), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500 font-bold mt-4\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full text-center pt-10\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          id: \"bookButton\",\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave,\n          className: \"py-4 px-12 rounded-md bg-indigo-600 text-white font-bold\",\n          onClick: handleBookingSubmit,\n          children: buttonText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Booking, \"ryAhe94o2K9QbFT2P+TKFfC3a0o=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Booking;\nexport default Booking;\n\nvar _c;\n\n$RefreshReg$(_c, \"Booking\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","BookingForm","famous","Booking","buttonText","setButtonText","multi","setMulti","trip","setTrip","tripType","vehicleType","selectedFare","setSelectedFare","regard","setRegard","formData","setFormData","from","to","date","fareType","errorMessage","setErrorMessage","navigate","handleMouseEnter","handleMouseLeave","handleFareSelection","cost","getRandomLocation","Math","floor","random","length","location","getUniqueRandomLocations","location1","location2","randomLocation1","randomLocation2","handleBookingSubmit","isValid","updatedFormData","forEach","item","index","console","log","handleFormDataChange","field","value","map"],"sources":["/home/geekcoderr/Astra/RealtimeProjects/FATAFAT-YATRA/src/components/booking/Booking.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport BookingForm from \"./BookingForm\";\nimport famous from './famous.json';\n\nconst Booking = () => {\n    const [buttonText, setButtonText] = useState(\"Check Availability\");\n    const [multi, setMulti] = useState([1]);\n    const [trip, setTrip] = useState([{ tripType: \"\", vehicleType: \"\" }]);\n    const [selectedFare, setSelectedFare] = useState(\"\");\n    const [regard, setRegard] = useState(5);\n    const [formData, setFormData] = useState([\n        { from: \"\", to: \"\", date: \"\", fareType: \"\" },\n    ]);\n    const [errorMessage, setErrorMessage] = useState(\"\");\n    const navigate = useNavigate();\n\n    const handleMouseEnter = () => {\n        setButtonText(\"...Let's CheckIt...\");\n    };\n\n    const handleMouseLeave = () => {\n        setButtonText(\"Check Availability\");\n    };\n\n    const handleFareSelection = (fareType, cost) => {\n        setSelectedFare(fareType);\n        setRegard(cost);\n    };\n\n    const getRandomLocation = () => {\n        return famous[Math.floor(Math.random() * famous.length)].location; // Access the 'location' property\n    };\n\n    const getUniqueRandomLocations = () => {\n        let location1 = getRandomLocation();\n        let location2 = getRandomLocation();\n\n        // Ensure no two locations are the same\n        while (location2 === location1) {\n            location2 = getRandomLocation();\n        }\n\n        return [location1, location2];\n    };\n\n    const [randomLocation1, randomLocation2] = getUniqueRandomLocations();\n\n    const handleBookingSubmit = () => {\n        let isValid = true;\n        const updatedFormData = [...formData];\n\n        updatedFormData.forEach((item, index) => {\n            if (item.from === item.to) {\n                isValid = false;\n                updatedFormData[index].errorMessage = \"From and To locations cannot be the same\";\n            } else {\n                updatedFormData[index].errorMessage = \"\";\n            }\n        });\n\n        setFormData(updatedFormData);\n        setErrorMessage(isValid ? \"\" : \"Please fix the error(s) and try again.\");\n\n        if (isValid) {\n            // Submit the form data\n            console.log(formData);\n            navigate('/bookinglist');\n        }\n    };\n\n    const handleFormDataChange = (index, field, value) => {\n        const updatedFormData = [...formData];\n        updatedFormData[index][field] = value;\n        setFormData(updatedFormData);\n    };\n\n    return (\n        <div className='pt-40 pb-20'>\n            <form className='max-w-5xl px-6 pt-8 pb-10 w-full mx-auto bg-white rounded-lg drop-shadow' id=\"bookpanel\">\n                {/* ... (rest of the code remains the same) ... */}\n\n                {formData.map((item, index) => (\n                    <BookingForm\n                        key={index}\n                        index={index}\n                        fromValue={item.from}\n                        toValue={item.to}\n                        date={item.date}\n                        fareType={item.fareType}\n                        errorMessage={item.errorMessage}\n                        handleFromChange={(value) => handleFormDataChange(index, 'from', value)}\n                        handleToChange={(value) => handleFormDataChange(index, 'to', value)}\n                        handleDateChange={(value) => handleFormDataChange(index, 'date', value)}\n                        handleFareTypeChange={(value) => handleFormDataChange(index, 'fareType', value)}\n                    />\n                ))}\n\n                {errorMessage && <div className=\"text-red-500 font-bold mt-4\">{errorMessage}</div>}\n\n                <div className=\"w-full text-center pt-10\">\n                    <button\n                        type=\"button\"\n                        id=\"bookButton\"\n                        onMouseEnter={handleMouseEnter}\n                        onMouseLeave={handleMouseLeave}\n                        className='py-4 px-12 rounded-md bg-indigo-600 text-white font-bold'\n                        onClick={handleBookingSubmit}\n                    >\n                        {buttonText}\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default Booking;"],"mappings":"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"},"metadata":{},"sourceType":"module"}