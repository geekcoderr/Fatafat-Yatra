{"ast":null,"code":"var _jsxFileName = \"/home/geekcoderr/Astra/RealtimeProjects/FATAFAT-YATRA/src/Authentication/SignIn.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport '../assets/App.css'; // Import CSS for styling\n\nimport signinasset from '../assets/images/notloggedin.png';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Signin = () => {\n  _s();\n\n  const navigate = useNavigate(); // Importing useNavigate hook\n\n  const username = useRef(null);\n  const password = useRef(null);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const handleRegisterClick = () => {\n    navigate('/register'); // Navigate to register page\n  };\n\n  const storeSession = e => {\n    e.preventDefault();\n    const credentials = {\n      username: username.current.value,\n      password: password.current.value\n    };\n    axios.post('http://localhost:3001/login', credentials).then(response => {\n      if (response.data.message === 'authenticated') {\n        alert(`User is ${response.data.message}`);\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('isAuthenticated', true);\n        navigate('/home');\n      } else if (response.data.message === 'unauthenticated') {\n        alert(`User is ${response.data.message}`);\n        navigate('/register');\n      }\n    }).catch(error => {\n      setErrorMessage('Error: Might be Internal Server Error');\n      console.error('Error:', error);\n    });\n  };\n\n  const signInComponent = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md w-full bg-white p-8 rounded-lg shadow-lg\",\n        id: \"book\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-semibold text-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: signinasset,\n            className: \"w-10 inline mr-1\",\n            alt: \"bus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), ' ', \"Sign In\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 text-center mb-4\",\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"space-y-4\",\n          onSubmit: storeSession,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: username,\n            type: \"text\",\n            placeholder: \"Username\",\n            required: true,\n            className: \"w-full px-4 py-2 border text-black border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: password,\n            type: \"password\",\n            placeholder: \"Password\",\n            required: true,\n            className: \"w-full px-4 py-2 border text-black border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition duration-300\",\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center mt-4\",\n          children: [\"Don't have an account?\", ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mt-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRegisterClick,\n            id: \"registerButton\",\n            children: \"Register Here!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: signInComponent()\n  }, void 0, false);\n};\n\n_s(Signin, \"hh2RKMwI4vHBhENG/mIiumVDi8o=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Signin;\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Link","useNavigate","signinasset","axios","Signin","navigate","username","password","errorMessage","setErrorMessage","handleRegisterClick","storeSession","e","preventDefault","credentials","current","value","post","then","response","data","message","alert","localStorage","setItem","token","catch","error","console","signInComponent"],"sources":["/home/geekcoderr/Astra/RealtimeProjects/FATAFAT-YATRA/src/Authentication/SignIn.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport '../assets/App.css'; // Import CSS for styling\nimport signinasset from '../assets/images/notloggedin.png';\nimport axios from 'axios';\n\nconst Signin = () => {\n  const navigate = useNavigate(); // Importing useNavigate hook\n\n  const username = useRef(null);\n  const password = useRef(null);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const handleRegisterClick = () => {\n    navigate('/register'); // Navigate to register page\n  };\n\n  const storeSession = (e) => {\n    e.preventDefault();\n    const credentials = {\n      username: username.current.value,\n      password: password.current.value,\n    }\n    axios.post('http://localhost:3001/login', credentials)\n      .then(response => {\n        if (response.data.message === 'authenticated') {\n          alert(`User is ${response.data.message}`);\n          localStorage.setItem('token', response.data.token);\n          localStorage.setItem('isAuthenticated', true);\n          navigate('/home');\n        } else if (response.data.message === 'unauthenticated') {\n          alert(`User is ${response.data.message}`);\n          navigate('/register');\n        }\n      })\n      .catch(error => {\n        setErrorMessage('Error: Might be Internal Server Error');\n        console.error('Error:', error);\n      });\n  }\n\n  const signInComponent = () => {\n    return (\n      <div className=\"flex justify-center items-center h-screen\" >\n        <div className=\"max-w-md w-full bg-white p-8 rounded-lg shadow-lg\" id=\"book\">\n          <h2 className=\"text-3xl font-semibold text-center mb-6\">\n            <img src={signinasset} className=\"w-10 inline mr-1\" alt=\"bus\" />\n            {' '}\n            Sign In</h2>\n          {errorMessage && (\n            <p className=\"text-red-500 text-center mb-4\">{errorMessage}</p>\n          )}\n          <form className=\"space-y-4\" onSubmit={storeSession}>\n            <input\n              ref={username}\n              type=\"text\"\n              placeholder=\"Username\"\n              required\n              className=\"w-full px-4 py-2 border text-black border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n            />\n            <input\n              ref={password}\n              type=\"password\"\n              placeholder=\"Password\"\n              required\n              className=\"w-full px-4 py-2 border text-black border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n            />\n            <button\n              type=\"submit\"\n              className=\"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition duration-300\"\n            >\n              Sign In\n            </button>\n          </form>\n          <p className=\"text-center mt-4\">\n            Don't have an account?{' '}\n          </p>\n          <div className=\"text-center mt-2\">\n            <button\n              onClick={handleRegisterClick}\n              id=\"registerButton\"\n            >\n              Register Here!\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {signInComponent()}\n    </>\n  );\n};\n\nexport default Signin;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,kBAAlC;AACA,OAAO,mBAAP,C,CAA4B;;AAC5B,OAAOC,WAAP,MAAwB,kCAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,MAAMC,MAAM,GAAG,MAAM;EAAA;;EACnB,MAAMC,QAAQ,GAAGJ,WAAW,EAA5B,CADmB,CACa;;EAEhC,MAAMK,QAAQ,GAAGR,MAAM,CAAC,IAAD,CAAvB;EACA,MAAMS,QAAQ,GAAGT,MAAM,CAAC,IAAD,CAAvB;EACA,MAAM,CAACU,YAAD,EAAeC,eAAf,IAAkCV,QAAQ,CAAC,EAAD,CAAhD;;EAEA,MAAMW,mBAAmB,GAAG,MAAM;IAChCL,QAAQ,CAAC,WAAD,CAAR,CADgC,CACT;EACxB,CAFD;;EAIA,MAAMM,YAAY,GAAIC,CAAD,IAAO;IAC1BA,CAAC,CAACC,cAAF;IACA,MAAMC,WAAW,GAAG;MAClBR,QAAQ,EAAEA,QAAQ,CAACS,OAAT,CAAiBC,KADT;MAElBT,QAAQ,EAAEA,QAAQ,CAACQ,OAAT,CAAiBC;IAFT,CAApB;IAIAb,KAAK,CAACc,IAAN,CAAW,6BAAX,EAA0CH,WAA1C,EACGI,IADH,CACQC,QAAQ,IAAI;MAChB,IAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,eAA9B,EAA+C;QAC7CC,KAAK,CAAE,WAAUH,QAAQ,CAACC,IAAT,CAAcC,OAAQ,EAAlC,CAAL;QACAE,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,QAAQ,CAACC,IAAT,CAAcK,KAA5C;QACAF,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwC,IAAxC;QACAnB,QAAQ,CAAC,OAAD,CAAR;MACD,CALD,MAKO,IAAIc,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,iBAA9B,EAAiD;QACtDC,KAAK,CAAE,WAAUH,QAAQ,CAACC,IAAT,CAAcC,OAAQ,EAAlC,CAAL;QACAhB,QAAQ,CAAC,WAAD,CAAR;MACD;IACF,CAXH,EAYGqB,KAZH,CAYSC,KAAK,IAAI;MACdlB,eAAe,CAAC,uCAAD,CAAf;MACAmB,OAAO,CAACD,KAAR,CAAc,QAAd,EAAwBA,KAAxB;IACD,CAfH;EAgBD,CAtBD;;EAwBA,MAAME,eAAe,GAAG,MAAM;IAC5B,oBACE;MAAK,SAAS,EAAC,2CAAf;MAAA,uBACE;QAAK,SAAS,EAAC,mDAAf;QAAmE,EAAE,EAAC,MAAtE;QAAA,wBACE;UAAI,SAAS,EAAC,yCAAd;UAAA,wBACE;YAAK,GAAG,EAAE3B,WAAV;YAAuB,SAAS,EAAC,kBAAjC;YAAoD,GAAG,EAAC;UAAxD;YAAA;YAAA;YAAA;UAAA,QADF,EAEG,GAFH;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,EAKGM,YAAY,iBACX;UAAG,SAAS,EAAC,+BAAb;UAAA,UAA8CA;QAA9C;UAAA;UAAA;UAAA;QAAA,QANJ,eAQE;UAAM,SAAS,EAAC,WAAhB;UAA4B,QAAQ,EAAEG,YAAtC;UAAA,wBACE;YACE,GAAG,EAAEL,QADP;YAEE,IAAI,EAAC,MAFP;YAGE,WAAW,EAAC,UAHd;YAIE,QAAQ,MAJV;YAKE,SAAS,EAAC;UALZ;YAAA;YAAA;YAAA;UAAA,QADF,eAQE;YACE,GAAG,EAAEC,QADP;YAEE,IAAI,EAAC,UAFP;YAGE,WAAW,EAAC,UAHd;YAIE,QAAQ,MAJV;YAKE,SAAS,EAAC;UALZ;YAAA;YAAA;YAAA;UAAA,QARF,eAeE;YACE,IAAI,EAAC,QADP;YAEE,SAAS,EAAC,yFAFZ;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAfF;QAAA;UAAA;UAAA;UAAA;QAAA,QARF,eA8BE;UAAG,SAAS,EAAC,kBAAb;UAAA,qCACyB,GADzB;QAAA;UAAA;UAAA;UAAA;QAAA,QA9BF,eAiCE;UAAK,SAAS,EAAC,kBAAf;UAAA,uBACE;YACE,OAAO,EAAEG,mBADX;YAEE,EAAE,EAAC,gBAFL;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QAjCF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EA8CD,CA/CD;;EAiDA,oBACE;IAAA,UACGmB,eAAe;EADlB,iBADF;AAKD,CAzFD;;GAAMzB,M;UACaH,W;;;KADbG,M;AA2FN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}